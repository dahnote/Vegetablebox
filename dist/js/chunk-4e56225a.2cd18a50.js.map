{"version":3,"sources":["webpack:///./src/components/pagination.vue?bb68","webpack:///./src/components/pagination.vue","webpack:///./src/components/pagination.vue?8b73","webpack:///./src/components/admin/deleteModel.vue","webpack:///./src/components/admin/deleteModel.vue?1cd2","webpack:///./src/views/admin/Order.vue","webpack:///./src/components/admin/orderInfo.vue","webpack:///./src/components/admin/orderInfo.vue?9304","webpack:///./src/views/admin/Order.vue?8c42"],"names":["aria-label","class","pagination","has_pre","clickPrev","total_pages","item","index","key","current_page","clickPage","has_next","clickNext","data","props","mounted","methods","this","$emit","page","render","__scopeId","id","ref","tabindex","aria-labelledby","aria-hidden","type","data-bs-dismiss","JSON","stringify","delobject","title","bodyInfo","clickDelete","modal","Object","default","$refs","deleteModel","keyboard","open","show","close","hide","ordersData","date","create_at","user","email","products","product","qty","unit","total","is_paid","updateOrder","for","callModal","delModal","getData","orderinfo","info","deleteorder","role","tempinfo","address","tel","message","i","update","status","isPaid","openModal","hideModal","time","localDate","Date","toLocaleDateString","watch","editInfo","components","orderInfo","created","undefined","url","$http","then","res","success","orders","catch","err","console","log","response","productModal","delId","delete","alert","put"],"mappings":"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","file":"js/chunk-4e56225a.2cd18a50.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./pagination.vue?vue&type=style&index=0&id=37498a32&scoped=true&lang=css\"","<template>\n  <nav aria-label=\"Page navigation example\">\n        <ul class=\"pagination\">\n          <li class=\"page-item\"\n          :class=\"{disabled:!pagination.has_pre}\"\n          @click=\"clickPrev\">\n            <span  class=\"page-link myMOUSE\">\n              Previous\n            </span>\n          </li>\n          <li v-for=\"(item, index) in pagination.total_pages\" :key=\"index\" class=\"page-item\"\n            :class=\"{active:pagination.current_page===item}\"\n            @click=\"clickPage(item)\"\n          >\n            <span class=\"page-link myMOUSE\">{{item}}</span >\n          </li>\n          <li class=\"page-item\"\n          :class=\"{disabled:!pagination.has_next}\"\n          @click=\"clickNext\">\n            <span class=\"page-link myMOUSE\">Next</span>\n          </li>\n        </ul>\n      </nav>\n</template>\n\n<script>\n\nexport default {\n  data() {\n    return {\n    };\n  },\n  props: [\n    'page', 'pagination',\n  ],\n  mounted() {\n\n  },\n  methods: {\n    clickPage(item) {\n      this.$emit('refesh', item);\n    },\n    clickNext() {\n      if (this.pagination.has_next) {\n        this.$emit('refesh', this.page + 1);\n      }\n    },\n    clickPrev() {\n      if (this.pagination.has_pre) {\n        this.$emit('refesh', this.page - 1);\n      }\n    },\n  },\n};\n</script>\n<style scoped>\n.myMOUSE {\n  cursor: pointer;\n}\n</style>\n","import { render } from \"./pagination.vue?vue&type=template&id=37498a32&scoped=true\"\nimport script from \"./pagination.vue?vue&type=script&lang=js\"\nexport * from \"./pagination.vue?vue&type=script&lang=js\"\n\nimport \"./pagination.vue?vue&type=style&index=0&id=37498a32&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-37498a32\"\n\nexport default script","<template>\n   <div id=\"deleteModel\" ref=\"deleteModel\" class=\"modal fade\" tabindex=\"-1\"\n        aria-labelledby=\"delProductModalLabel\" aria-hidden=\"true\">\n     <div class=\"modal-dialog\">\n       <div v-if=\"JSON.stringify(delobject) !== '{}'\"   class=\"modal-content border-0\">\n         <div  class=\"modal-header bg-danger text-white\">\n           <h5 id=\"delProductModalLabel\" class=\"modal-title\">\n             <span>刪除{{delobject.title}}</span>\n           </h5>\n           <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n         </div>\n         <div class=\"modal-body\">\n           是否刪除\n           <strong class=\"text-danger\">{{delobject.bodyInfo}}</strong> (刪除後將無法恢復)。\n         </div>\n         <div class=\"modal-footer\">\n           <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">\n             取消\n           </button>\n           <button type=\"button\" class=\"btn btn-danger\" @click=\"clickDelete\">\n             確認刪除\n           </button>\n         </div>\n       </div>\n     </div>\n   </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  data() {\n    return {\n      modal: '',\n    };\n  },\n  props: {\n    delobject: {\n      type: Object,\n      default() { return {}; },\n    },\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.deleteModel, {\n      keyboard: false,\n    });\n  },\n  methods: {\n    open() {\n      // console.log(id.productName);\n      this.modal.show();\n    },\n    close() {\n      this.modal.hide();\n    },\n    clickDelete() {\n      this.$emit('clickDelete');\n    },\n  },\n};\n</script>\n","import { render } from \"./deleteModel.vue?vue&type=template&id=cda4debe\"\nimport script from \"./deleteModel.vue?vue&type=script&lang=js\"\nexport * from \"./deleteModel.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div class=\"container\">\n        <table class=\"table mt-4\">\n          <thead>\n            <tr>\n              <th>\n                時間\n              </th>\n              <th>Email</th>\n              <th  class=\"text-start\">\n                購買項目\n              </th>\n              <th class=\"text-start\">\n                總價\n              </th>\n              <th>\n                是否付款\n              </th>\n              <th>\n                編輯\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(item) in ordersData\" :key=\"item.id\">\n              <td>{{date(item.create_at)}}</td>\n              <td>{{item.user.email}}</td>\n              <td  class=\"text-start\">\n                <ul>\n                  <li v-for=\"(product, index) in item.products\" :key=\"index\">\n                    {{ product.product.title }} 數量：{{ product.qty }}\n                    {{ product.product.unit }}\n                  </li>\n                </ul>\n              </td>\n              <td class=\"text-start\">{{item.total}}</td>\n              <td>\n                <div class=\"form-check form-switch\">\n              <input\n                class=\"form-check-input\"\n                type=\"checkbox\"\n                :id=\"`switch${item.id}`\"\n                v-model=\"item.is_paid\"\n                @change=\"updateOrder(item)\"\n              />\n              <label class=\"form-check-label\" :for=\"`switch${item.id}`\">\n                <span v-if=\"item.is_paid\">已付款</span>\n                <span v-else>未付款</span>\n              </label>\n            </div>\n              </td>\n              <td>\n                <div class=\"btn-group\">\n                  <button type=\"button\" class=\"btn btn-outline-primary btn-sm\" @click=\"callModal(item)\">\n                    瀏覽\n                  </button>\n                  <button type=\"button\" class=\"btn btn-outline-danger btn-sm\" @click=\"delModal(item.id,'訂單')\">\n                    刪除\n                  </button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <pagination :pagination=pagination :page=page @refesh=\"getData\"></pagination>\n    <orderInfo\n      ref=\"productModal\"\n      :orderinfo=info\n      @updateorderinfo=\"updateOrder\"\n    >\n    </orderInfo>\n    <deleteModel\n      ref=\"deleteModel\"\n      :delobject=delobject\n      @clickDelete=\"deleteorder\"\n    ></deleteModel>\n    </div>\n\n</template>\n<script>\nimport pagination from '@/components/pagination.vue';\nimport orderInfo from '@/components/admin/orderInfo.vue';\nimport deleteModel from '@/components/admin/deleteModel.vue';\n\nexport default {\n  data() {\n    return {\n      ordersData: {},\n      pagination: {},\n      page: 1,\n      editInfo: {},\n      info: {},\n      open: false,\n      delobject: {},\n    };\n  },\n  components: {\n    pagination, orderInfo, deleteModel,\n  },\n  created() {\n    this.getData();\n  },\n  methods: {\n    getData(item) {\n      if (item !== undefined) {\n        this.page = item;\n      }\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders/?page=${this.page}`;\n      this.$http(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.ordersData = res.data.orders;\n            this.pagination = res.data.pagination;\n            if (this.page > this.pagination.total_pages) {\n              this.page -= 1;\n            }\n          }\n        })\n        .catch((err) => {\n          console.log(err.response);\n        });\n    },\n    callModal(item) {\n      this.info = item;\n      this.open = true;\n      this.$refs.productModal.openModal();\n    },\n    delModal(id, title) {\n      this.delobject.delId = id;\n      this.delobject.title = title;\n      this.delobject.bodyInfo = `刪除訂單${id}`;\n      this.$refs.deleteModel.open();\n    },\n    deleteorder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.delobject.delId}`;\n      this.$http.delete(url)\n        .then((res) => {\n          // console.log(res);\n          alert(res.data.message);\n          if (res.data.success) {\n            this.$refs.deleteModel.close();\n            this.getData(this.page);\n          }\n        })\n        .catch((err) => {\n          console.log(err.response);\n        });\n    },\n    date(time) {\n      const localDate = new Date(time * 1000);\n      return localDate.toLocaleDateString();\n    },\n    updateOrder(item) {\n      console.log(item);\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;\n      this.$http.put(url, { data: item })\n        .then((res) => {\n          if (res.data.success) {\n            alert(res.data.message);\n            this.getData(this.page);\n          } else {\n            alert(res.data.message);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"productModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>訂單細節</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div   v-if=\"JSON.stringify(tempinfo) !== '{}'\" class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-5\">\n                <div class=\"h2\">用戶資訊</div>\n                <ul class=\"list-group list-group-flush\">\n                  <li class=\"list-group-item\">客戶名稱 {{tempinfo.user.address}}</li>\n                  <li class=\"list-group-item\">email {{tempinfo.user.email}}</li>\n                  <li class=\"list-group-item\">郵寄地址 {{tempinfo.user.address}}</li>\n                  <li class=\"list-group-item\">聯絡電話 {{tempinfo.user.tel}}</li>\n                  <li class=\"list-group-item\">備註訊息 {{tempinfo.message}}</li>\n                </ul>\n            </div>\n             <div class=\"col-7\">\n               <div class=\"h2\">訂單資訊</div>\n                <ul class=\"list-group list-group-flush\">\n                  <li class=\"list-group-item\">訂單建立時間 {{date(tempinfo.create_at)}}</li>\n                  <li class=\"list-group-item\">訂單總價 {{tempinfo.class=\"list-group-item\"}}</li>\n                  <li class=\"list-group-item\">付款狀態\n                    <span v-if=\"tempinfo.is_paid\">已付款</span>\n                    <span v-else>未付款</span>\n                  </li>\n                </ul>\n               <div class=\"h2\">訂單產品</div>\n               <ul  class=\"list-group list-group-flush\">\n                  <li class=\"list-group-item\" v-for=\"(product, i) in tempinfo.products\" :key=\"i\">\n                    {{ product.product.title }} 數量：{{ product.qty }}\n                    {{ product.product.unit }}\n                  </li>\n                </ul>\n             </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">關閉</button>\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"update\"><span v-if=\"tempinfo.is_paid\">取消付款</span>\n                    <span v-else>確認付款</span></button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  props: {\n    orderinfo: {\n      type: Object,\n      default() { return {}; },\n    },\n  },\n  data() {\n    return {\n      status: {},\n      modal: '',\n      tempinfo: {},\n      isPaid: false,\n    };\n  },\n  methods: {\n    openModal() {\n      this.modal.show();\n    },\n    hideModal() {\n      this.modal.hide();\n    },\n    date(time) {\n      const localDate = new Date(time * 1000);\n      return localDate.toLocaleDateString();\n    },\n    update() {\n      this.tempinfo.is_paid = !this.tempinfo.is_paid;\n      this.$emit('updateorderinfo', this.tempinfo);\n    },\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.modal);\n  },\n  watch: {\n    orderinfo() {\n      this.tempinfo = this.orderinfo;\n    },\n  },\n};\n</script>\n","import { render } from \"./orderInfo.vue?vue&type=template&id=0e2cfe1d\"\nimport script from \"./orderInfo.vue?vue&type=script&lang=js\"\nexport * from \"./orderInfo.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Order.vue?vue&type=template&id=e36b9676\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}