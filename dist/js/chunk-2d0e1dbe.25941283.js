(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e1dbe"],{"7bda":function(t,c,a){"use strict";a.r(c);var e=a("7a23"),o={class:"container"},n={class:"table mt-4"},s=Object(e["g"])("thead",null,[Object(e["g"])("tr",null,[Object(e["g"])("th",{width:"250"}," 圖片 "),Object(e["g"])("th",null,"商品名稱"),Object(e["g"])("th",null," 售價 "),Object(e["g"])("th",null," 編輯 ")])],-1),i={class:"h3"},l={class:"btn-group"};function d(t,c,a,d,r,u){var b=Object(e["z"])("infomodal");return Object(e["s"])(),Object(e["d"])("div",o,[Object(e["g"])("table",n,[s,Object(e["g"])("tbody",null,[(Object(e["s"])(!0),Object(e["d"])(e["a"],null,Object(e["y"])(r.productsData,(function(t,c){return Object(e["s"])(),Object(e["d"])("tr",{key:t.id},[Object(e["g"])("td",null,[Object(e["g"])("img",{src:t.imageUrl,class:"img-thumbnail",alt:""},null,8,["src"])]),Object(e["g"])("td",null,Object(e["C"])(t.title),1),Object(e["g"])("td",null,[Object(e["g"])("div",null,"打折前"+Object(e["C"])(t.origin_price),1),Object(e["g"])("div",i,"打折後"+Object(e["C"])(t.price),1)]),Object(e["g"])("td",null,[Object(e["g"])("div",l,[Object(e["g"])("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:function(t){return u.infoOpen(c)}}," 詳細資訊 ",8,["onClick"]),Object(e["g"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(c){return u.addCart(t.id)}}," 加入購物車 ",8,["onClick"])])])])})),128))])]),Object(e["g"])(b,{ref:"infoComponent"},null,512)])}a("99af");var r={id:"productModal2",ref:"infoModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},u={class:"modal-dialog modal-lg"},b={class:"modal-content border-0"},p=Object(e["g"])("div",{class:"modal-header bg-dark text-white"},[Object(e["g"])("h5",{id:"productModalLabel",class:"modal-title"}," 詳細資訊 "),Object(e["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),g={class:"modal-body"},h={class:"row"},O={class:"col-8"},j={class:"card"},f={class:"card-body"},m={class:"card-text"},v={class:"col-4"},C={class:"list-group"},y={class:"list-group-item"},D={class:"list-group-item"},k={class:"list-group-item"},w={class:"list-group-item"},x={class:"list-group-item"};function I(t,c,a,o,n,s){return Object(e["s"])(),Object(e["d"])("div",r,[Object(e["g"])("div",u,[Object(e["g"])("div",b,[p,Object(e["g"])("div",g,[Object(e["g"])("div",h,[Object(e["g"])("div",O,[Object(e["g"])("div",j,[Object(e["g"])("img",{src:n.productData.imageUrl,class:"card-img-top",alt:"..."},null,8,["src"]),Object(e["g"])("div",f,[Object(e["g"])("p",m,Object(e["C"])(n.productData.content),1)])])]),Object(e["g"])("div",v,[Object(e["g"])("ul",C,[Object(e["g"])("li",y,"產品名稱 "+Object(e["C"])(n.productData.title),1),Object(e["g"])("li",D,"種類 "+Object(e["C"])(n.productData.category),1),Object(e["g"])("li",k,"單位 "+Object(e["C"])(n.productData.unit),1),Object(e["g"])("li",w,"原價 "+Object(e["C"])(n.productData.origin_price),1),Object(e["g"])("li",x,"折扣價 "+Object(e["C"])(n.productData.price),1)]),Object(e["g"])("div",null,[Object(e["g"])("button",{type:"button",class:"btn btn-outline-danger btn-sm mt-1",onClick:c[1]||(c[1]=function(){return s.addCart&&s.addCart.apply(s,arguments)})}," 加入購物車 ")])])])])])])],512)}var $=a("7c2b"),M=a.n($),_={data:function(){return{productData:[],modal:"",infoId:""}},mounted:function(){this.modal=new M.a(this.$refs.infoModal,{keyboard:!1,backdrop:"static"})},methods:{open:function(t){var c=this;this.infoId=t;var a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("hua1993","/product/").concat(this.infoId);this.$http(a).then((function(t){t.data.success?(c.productData=t.data.product,c.modal.show()):alert(t.data.message)})).catch((function(t){console.log(t.response)}))},addCart:function(){var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("hua1993","/cart"),c={product_id:this.infoId,qty:1};this.$http.post(t,{data:c}).then((function(t){t.data.success,alert(t.data.message)})).catch((function(t){console.log(t)}))}}};_.render=I;var q=_,J={data:function(){return{productsData:[],infoId:""}},components:{infomodal:q},created:function(){this.getData()},methods:{getData:function(){var t=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("hua1993","/products/all");this.$http.get(c).then((function(c){t.productsData=c.data.products}))},addCart:function(t){var c=this;console.log(t);var a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("hua1993","/cart"),e={product_id:t,qty:1};this.$http.post(a,{data:e}).then((function(t){t.data.success?(alert(t.data.message),c.getData()):alert(t.data.message)})).catch((function(t){console.log(t)}))},infoOpen:function(t){this.infoId=this.productsData[t].id,this.$refs.infoComponent.open(this.infoId)}}};J.render=d;c["default"]=J}}]);
//# sourceMappingURL=chunk-2d0e1dbe.25941283.js.map